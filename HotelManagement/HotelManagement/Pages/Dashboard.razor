@page "/dashboard"
@inject IJSRuntime JS

<div class="container mt-4">
  <div>
      <Sidebar></Sidebar>
  </div>
    <!-- Top Cards Section -->
    <div class="row mt-4">
        <!-- Check-Ins Card -->
        <div class="col-md-3 d-flex">
            <div class="card shadow-sm flex-fill lh-1">
                <div class="card-body text-center">
                    <h5 class="card-title">Check-Ins | Today</h5>
                    <div class="d-flex justify-content-center gap-4 align-items-center">
                        <div class="rounded-circle bg-icon-primary p-3">
                            <i class="bi bi-bag-check fs-3 icon-color"></i>
                        </div>
                        <h2 class="fw-bold">22</h2>
                    </div>
                    <p class="mt-2 text-success">15% increase</p>
                </div>
            </div>
        </div>

        <!-- Revenue Card -->
        <div class="col-md-3 d-flex">
            <div class="card shadow-sm flex-fill lh-1">
                <div class="card-body text-center">
                    <h5 class="card-title">Revenue | This Week</h5>
                    <div class="d-flex justify-content-center gap-4 align-items-center">
                        <div class="rounded-circle bg-icon-success p-3">
                            <i class="bi bi-currency-dollar fs-3 icon-color"></i>
                        </div>
                        <h2 class="fw-bold">$2,744.96</h2>
                    </div>
                    <p class="mt-2 text-success">9% increase</p>
                </div>
            </div>
        </div>

        <!-- Guests Card -->
        <div class="col-md-3 d-flex">
            <div class="card shadow-sm flex-fill lh-1">
                <div class="card-body text-center">
                    <h5 class="card-title">Guests | Today</h5>
                    <div class="d-flex justify-content-center gap-4 align-items-center">
                        <div class="rounded-circle bg-icon-warning p-3">
                            <i class="bi bi-people fs-3 icon-color"></i>
                        </div>
                        <h2 class="fw-bold">33</h2>
                    </div>
                    <p class="mt-2 text-danger">12% decrease</p>
                </div>
            </div>
        </div>
      
        <!-- Bookings Card -->
        <div class="col-md-3 d-flex">
            <div class="card shadow-sm flex-fill lh-1">
                <div class="card-body text-center">
                    <h5 class="card-title">Bookings | Pending</h5>
                    <div class="d-flex justify-content-center gap-4 align-items-center">
                        <div class="rounded-circle bg-icon-primary p-3">
                            <i class="bi bi-calendar-check fs-3 icon-color"></i>
                        </div>
                        <h2 class="fw-bold">68</h2>
                    </div>
                    <p class="mt-2 text-muted">Pending Approval</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Middle Section: Chart and Recent Activity -->
    <div class="row mt-4">
        <!-- Check-Ins Chart -->
        <div class="col-md-8 d-flex">
            <div class="card shadow-sm flex-fill lh-1">
                <div class="card-body p-3">
                    <h5 class="fw-bold">Check-Ins | This Week</h5>
                    <canvas id="ticketsChart" width="500" height="220"></canvas>
                </div>
            </div>
        </div>

        <!-- Recent Activity Card -->
        <div class="col-md-4 d-flex">
            <div class="card shadow-sm flex-fill">
                <div class="card-body p-3">
                    <h5 class="fw-bold mb-4">Recent Activity | Today</h5>
                    <ul class="list-unstyled">
                        <!-- Activity Items -->
                        <li class="mb-3 d-flex align-items-center">
                            <span class="badge bg-light text-dark me-3">12 min</span>
                            <i class="bi bi-calendar-check-fill text-primary fs-5 me-2"></i>
                            <div><strong>Honey Billitteri</strong> added a <strong>booking</strong></div>
                        </li>
                        <!-- Repeat for each activity -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Tables Section -->
    <div class="row mt-3">
        <!-- Bookings Table -->
        <div class="col-md-6 d-flex">
            <div class="card shadow-sm flex-fill">
                <div class="card-body p-3">
                    <h5 class="fw-bold ">Bookings | Pending</h5>
                    <table class="table table-hover ">
      0
      <thead class="thead-bg">
                            <tr>
                                <th>#</th>
                                <th>Guest</th>
                                <th>Arrival</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#2297</td>
                                <td>Bibi O'Henecan</td>
                                <td>11-02-2023 4:20 PM</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Check-Ins Table -->
        <div class="col-md-6 d-flex">
            <div class="card shadow-sm flex-fill">
                <div class="card-body p-3">
                    <h5 class="fw-bold">Check-Ins | Today</h5>
                    <table class="table table-hover">
                        <thead class="thead-bg">
                            <tr>
                                <th>#</th>
                                <th>Guest</th>
                                <th>Room</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#2297</td>
                                <td>Sibel Ladon</td>
                                <td>T 11</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .row {
        display: flex;
        flex-wrap: wrap;
    }

    .col-md-3, .col-md-8, .col-md-4, .col-md-6 {
        display: flex;
        flex-direction: column;
    }

    .card {
        height: 100%;
    }

    .row.mt-4 {
        margin-top: 1rem !important;
    }

    table.table-hover th, 
    table.table-hover td {
        vertical-align: middle;
    }

    .row {
        display: flex;
        flex-wrap: wrap;
    }

    .col-md-3, .col-md-8, .col-md-4, .col-md-6 {
        display: flex;
        flex-direction: column;
    }

    .card {
        height: 100%;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.06);
        border-radius: 8px;
    }

        .card:hover {
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2), 0 3px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease-in-out;
        }

    .row.mt-4 {
        margin-top: 1rem !important;
    }

    table.table-hover th,
    table.table-hover td {
        vertical-align: middle;
    }

    .thead-bg {
        background-color: #f5f9ff;
    }
</style>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            List<int> ticketsData = new() { 30, 20, 25, 35, 50, 45, 40 };
            await JS.InvokeVoidAsync("renderCharts", ticketsData);
        }
    }
}
